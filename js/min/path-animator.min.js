function PathAnimator(t){t&&this.updatePath(t),this.timer=null}PathAnimator.prototype={start:function(t,n,e,i,h,o){if(this.stop(),this.percent=i||0,0==t)return!1;var a=this,r=new Date,s=1e3/60;!function p(){var u,c=[],l=new Date,m=(l-r)/1e3,f=m/t,g=100*f;return"function"==typeof o&&(g=100*o(f)),e?g=100-g:g+=i,a.running=!0,g>100||0>g?(a.stop(),h.call(a.context)):(a.percent=g,c[0]=a.pointAt(g-1),c[1]=a.pointAt(g+1),u=180*Math.atan2(c[1].y-c[0].y,c[1].x-c[0].x)/Math.PI,a.timer=setTimeout(p,s),n.call(a.context,a.pointAt(g),u),void 0)}()},stop:function(){clearTimeout(this.timer),this.timer=null,this.running=!1},pointAt:function(t){return this.path.getPointAtLength(this.len*t/100)},updatePath:function(t){this.path=document.createElementNS("http://www.w3.org/2000/svg","path"),this.path.setAttribute("d",t),this.len=this.path.getTotalLength()}};